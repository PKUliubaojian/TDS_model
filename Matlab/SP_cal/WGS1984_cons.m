function [c,ceq,gradc,gradceq]=WGS1984_cons(x)
%%修改时间2018.8.19日
%刘宝剑
%%
%%WGS1984的椭球约束函数，用于进行数值优化
%其中使用的参数：地球半长轴 a=6378137;
%偏心率 e^2=0.00669437999013;
% b=a*sqrt(1-ee^2);
%%
%%输入
%x:长度为3的数组，分别代表地心地固坐标系中的x,y,z
%%
%%输出：
%c：不等式约束，ceq：等式约束，gradc：梯度的不等式约束，gradceq：梯度的等式约束
%%
c=[];
ceq=[(x(1).^2+x(2).^2)+x(3).^2/(1-0.00669437999013)-6378137.^2];
    if nargout>2
        gradc=[];
        gradceq=[2.*x(1),2.*x(2),2.*x(3)/(1-0.00669437999013)];
    end
end 